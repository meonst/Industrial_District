<!doctype html>

<title> silvercity </title>
<link rel="stylesheet" type="text/css" href="{{ css_URL }}">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="{{ js_URL }}"></script>

<body>
    <form method = "POST" enctype = "multipart/form-data">
        <input id="choose_replay" type = "file" name = "file" value = "choose Replay" accept=".StormReplay"/>
        <input id="submit_replay" type = "submit" name = "submit" value = "submit replay" formaction="/"/>
    </form>
</body>

<br>
<p>{{ game_details["game_mode"] }} {{ game_details["game_time"] }} {{ game_details["map_name"] }} {{ game_details["game_length"] }} {{ game_details["game_version"] }}</p>
<button onclick="toggle('stats')">stats</button>
<button onclick="toggle('talents')">talents</button>
<button onclick="toggle('chatlog')">chatlog</button>
<button onclick="toggle('statistics')">statistics</button>
<button onclick="toggle('charts')">charts</button>

<pre id="stats">
    <table>
    <tr id="players">
        <th id="player_row">Players</th> {% for i in range(0, 10) %} <th id="player_row">{{ players[i]["player_name"] }}</th> {% endfor %}
    </tr>
    <tr id="heroes">
        <th id="hero_row">Heroes</th> {% for i in range(0, 10) %} <th>{{ players[i]["hero_name"] }}</th> {% endfor %}
    </tr>
    {% for i in stats %}
    <tr>
        <th id="rows">{{ i }}</th> {% for j in stats[i] %} <th>{{ j }}</th> {% endfor %}
    </tr>
    {% endfor %}
    </table>
</pre>

<pre id="talents">{% for i in range(0, 10) %}<div id="talents_player_{{ players[i]['team'] }}"><img id="talents_player_portrait" src="https://min.hyeok.org/SILVER/files/images/heroportraits/{{ players[i]['party_panel_portrait'] }}"><div id=talents_player_name>{{ players[i]["player_name"] }}
{{ players[i]["hero_name"] }}</div><a id="talents_player_icon_box" href="https://min.hyeok.org/SILVER/#/{{ players[i]['hero_link'] }}/{{ players[i]['talent'] }}">{% for j in range(0, 7) %}<img id="talents_player_icon_box_individual" src="https://min.hyeok.org/SILVER/files/images/abilitytalents/{{ players[i]['talent_icon'][j] }}">{% endfor %}</a></div>{% endfor %}</pre>

<pre id="chatlog">
    {% if chatlog %}
        {{chatlog}}
    {% endif %}
</pre>

<pre id="statistics">
    <table>
        <tr id="Players">
            <th id="player_row">Players</th> {% for i in range(0, 10) %} <th id="playerRow">{{ players[i]["player_name"] }}</th> {% endfor %}
        </tr>
        <tr id="Heroes">
            <th id="hero_row">Heroes</th> {% for i in range(0, 10) %} <th>{{ players[i]["hero_name"] }}</th> {% endfor %}
        </tr>
        {% for i in statistics %}
        <tr>
            <th>{{ i }}</th> {% for j in statistics[i] %} <th>{{ j }}</th> {% endfor %}
        </tr>
        {% endfor %}
    </table>
</pre>


<pre id="charts">
    <div id="charts_categories">{% for i in range(0, 8) %}<div id="checkbox_{{ chart_title[i] }}"><input type="checkbox" id="checkbox_{{ chart_title[i] }}_checkbox"> <label for="checkbox_{{ chart_title[i] }}_label">{{ chart_title[i] }}</label></div>{% endfor %} </div> 
    <div id="charts_players">{% for i in range(0, 10) %}<div id="charts_players_player_{{ i }}"><img id="charts_players_portrait" src="https://min.hyeok.org/SILVER/files/images/heroportraits/{{ players[i]['minimap_portrait'] }}"> <label id="charts_players_player_name">{{ players[i]["player_name"] }}</label></div> {% endfor %}
    </div>
    <canvas id="charts_chart"></canvas>


</pre>
<script type="text/javascript">
    var what_to_draw = [false, false, false, false, false, false, false, false]
    {% for i in range(0, 8) %}
    console.log(what_to_draw[{{ i }}])
    const update_{{ i }} = document.getElementById("checkbox_{{ chart_title[i] }}_checkbox")
    console.log(update_{{ i }})
    update_{{ i }}.addEventListener("change", (event) => {

        what_to_draw[{{ i }}] = !what_to_draw[{{ i }}]
        console.log(what_to_draw)
    })
    {% endfor %}

    function graph_drawing() {
        
        
    
    }

</script>



<meta id="replay_data" data="">